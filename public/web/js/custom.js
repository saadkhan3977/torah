$(document).ready((function(){"use strict";if($(".tj-loader").delay(800).slideUp(1600),$(".loader-outer").delay(800).slideUp(1600),$(".tj-nav-row").length){$(".tj-nav-row").offset().top;var e=function(){$(window).scrollTop()>500?$(".tj-nav-row").addClass("sticky"):$(".tj-nav-row").removeClass("sticky")};e(),$(window).scroll((function(){e()}))}if($(".partners-list").length&&$(".partners-list").owlCarousel({loop:!0,dots:!1,nav:!1,navText:"",items:5,autoplay:!1,smartSpeed:2e3,responsiveClass:!0,responsive:{0:{items:2},768:{items:3},992:{items:4},1199:{items:5}}}),$("#testimonial-slider").length&&$("#testimonial-slider").owlCarousel({loop:!0,dots:!1,nav:!0,navText:"",items:2,margin:30,autoplay:!0,smartSpeed:1e3,responsiveClass:!0,responsive:{0:{items:1},768:{items:2},992:{items:2},1199:{items:2}}}),$("#testimonial-slider2").length&&$("#testimonial-slider2").owlCarousel({loop:!0,dots:!1,nav:!1,navText:"",items:1,autoplay:!0,smartSpeed:1200,responsiveClass:!0,responsive:{0:{items:1},768:{items:1},992:{items:1},1199:{items:1}}}),$("#cab-slider").length&&$("#cab-slider").owlCarousel({loop:!0,dots:!1,nav:!0,navText:"",items:1,autoplay:!0,smartSpeed:1e3,responsiveClass:!0,responsive:{0:{items:1,nav:!1,dots:!0},768:{items:1},992:{items:1},1199:{items:1}}}),$("#blog-slider").length&&$("#blog-slider").owlCarousel({loop:!0,dots:!1,nav:!0,navText:"",autoplay:!0,items:3,smartSpeed:1e3,responsiveClass:!0,responsive:{0:{items:1},768:{items:1},992:{items:1},1199:{items:1}}}),$(".fact-counter").length&&$(".fact-counter").counterUp({delay:50,time:3e3}),$(".fact-count").length&&$(".fact-count").counterUp({delay:70,time:2e3}),$(".fact-num").length&&$(".fact-num").counterUp({delay:70,time:2e3}),$("#price-range").length&&($("#price-range").slider({range:!0,min:0,max:500,values:[75,300],slide:function(e,t){$("#amount").val("$"+t.values[0]+" - $"+t.values[1])}}),$("#amount").val("$"+$("#price-range").slider("values",0)+" - $"+$("#price-range").slider("values",1))),$("#cab-carousel").length&&$("#cab-carousel").owlCarousel({loop:!0,dots:!1,nav:!0,navText:"",items:3,margin:150,center:!0,autoplay:!0,smartSpeed:1e3,responsiveClass:!0,responsive:{0:{items:1},768:{items:2},992:{items:2},1199:{items:3}}}),$(".cab-filter").length)var t=$(".cab-filter").imagesLoaded((function(){t.isotope({filter:"*",animationOptions:{duration:750,easing:"linear",queue:!1}}),$(".cab-filter-nav a").on("click",(function(){$(".cab-filter-nav .current").removeClass("current"),$(this).addClass("current");var e=$(this).attr("data-filter");return t.isotope({filter:e,animationOptions:{duration:750,easing:"linear",queue:!1}}),!1}))}));if($(".tj-tweets").length&&$(".tj-tweets").twittie({username:"sameersattar13",dateFormat:"%b, %d, %Y",template:'{{tweet}}} <div class="date">{{date}}</div>',count:2,loadingText:"Loading!"}),$(".gallery-thumb").length&&$(".gallery").length){var o=$(".right-outer"),i=$(".gallery-thumb"),a=$(".gallery");i.slick({rows:0,slidesToShow:2,draggable:!1,useTransform:!1,mobileFirst:!0,responsive:[{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:1023,settings:{slidesToShow:1,vertical:!0}}]}),a.slick({rows:0,useTransform:!1,arrows:!0,fade:!0,autoplay:!0,speed:600,cssEase:"ease-in-out",asNavFor:i}),$(".gallery-thumb .item").on("click",(function(){var e=$(this).attr("data-slick-index");a.slick("slickGoTo",e)}))}$(window).on("load",(function(){!function(){if($(".gallery-thumb").length&&$(".gallery").length)if(window.matchMedia("(min-width: 1024px)").matches){var e=$(".gallery").height();o.css("height",e)}else o.css("height","auto")}()})),$("#contact-form").length&&$("#contact-form").validate({rules:{name:"required",email:{required:!0,email:!0},subject:"required",message:"required"},messages:{name:"Please enter your name",email:"Please enter a valid email address",subject:"It is a required field",message:"It is a required field"},submitHandler:function(e){return $.ajax({type:"POST",url:"contact/process.php",data:{formData:$(e).serialize()},beforeSend:function(){$("#frm_submit_btn").text("Sending..").addClass("wait"),$("#frm_submit_btn").attr("disabled","disabled")},success:function(e){1==e?(alert("Thank you for contacting. We will get in touch with you soon!"),$("#frm_submit_btn").text("Email Sent").addClass("success"),$("#frm_submit_btn").removeAttr("disabled"),$("#frm_submit_btn").removeClass("wait"),$("#contact-form")[0].reset()):(alert("Something went wrong. Please check your entries and try again"),$("#frm_submit_btn").text("Email Failed").addClass("fail"),$("#frm_submit_btn").removeAttr("disabled"),$("#frm_submit_btn").removeClass("wait"))}}),!1}});var r=new Date,s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);$(".booking-frm #pickup_date").length&&$(".booking-frm #pickup_date").datetimepicker({format:"MM/DD/YYYY",minDate:s}),$(".booking-frm #pickup_time").length&&$(".booking-frm #pickup_time").datetimepicker({format:"h:mm a"}),$(".booking-frm #dropoff_date").length&&$(".booking-frm #dropoff_date").datetimepicker({format:"MM/DD/YYYY",minDate:s}),$(".booking-frm #dropoff_time").length&&$(".booking-frm #dropoff_time").datetimepicker({format:"h:mm a"});var n=$(".booking-frm input[name='service_type']:checked").val(),l=Math.floor(9e4*Math.random())+1e4;null!==n&&$(".booking-summary .service_type").text(n),null!==l&&$(".booking-summary .book-ref").text(l),"PayPal"===$("input[type=radio][name=payment_type]:checked").val()?($(".booking-frm .select-list").slideDown(700),$("#rate_list option:selected").attr("selected",!1)):$(".booking-frm .select-list").slideUp(700),$("input[type=radio][name=payment_type]").change((function(){if("PayPal"===this.value){$(".booking-frm .select-list").slideDown(700),$("#rate_list option:selected").attr("selected",!1);var e=$("#car_list").find("option:selected").data("hrrate"),t=$("#car_list").find("option:selected").data("dayrate");$("input[type=radio][name=payment_type]:checked").val();void 0===e&&void 0===t?$("#rate_list").empty().append('<option value="default">Select Rate</option>'):$("#rate_list").empty().append('<option value="default">Select Rate</option>').append('<option class="hr_rate" value="'+e+'">$'+e+" hourly rate</option>").append('<option class="day_rate" value="'+t+'">$'+t+" day rate</option>")}else $(".booking-frm .select-list").slideUp(700)}));var m=sessionStorage.getItem("book_ref"),d=sessionStorage.getItem("start_loc"),p=sessionStorage.getItem("end_loc"),c=sessionStorage.getItem("pickup_date"),u=sessionStorage.getItem("pickup_time"),_=sessionStorage.getItem("dropoff_date"),f=sessionStorage.getItem("dropoff_time"),g=(n=sessionStorage.getItem("service_type"),sessionStorage.getItem("trip_time")),k=sessionStorage.getItem("trip_cost"),b=sessionStorage.getItem("method_type"),v=sessionStorage.getItem("trip_rate"),y=sessionStorage.getItem("selected_car");if(null!==y&&$('#car_list option[value="'+y+'"]').attr("selected","selected"),null!==b&&"PayPal"===b){$(".booking-frm #pay_online").val(b).prop("checked",!0),$(".booking-frm .select-list").slideDown(700);var h=$("#car_list").find("option:selected").data("hrrate"),S=$("#car_list").find("option:selected").data("dayrate");$("input[type=radio][name=payment_type]:checked").val();void 0===h&&void 0===S?$("#rate_list").empty().append('<option value="default">Select Rate</option>'):$("#rate_list").empty().append('<option value="default">Select Rate</option>').append('<option class="hr_rate" value="'+h+'">$'+h+" hourly rate</option>").append('<option class="day_rate" value="'+S+'">$'+S+" day rate</option>")}else $(".booking-frm #off_online").val(b).prop("checked",!0),$(".fare-box .est-cost").css("display","none"),$(".fare-box .curr").text(""),$(".booking-summary #trip_cost").text(""),$(".fare-box #ride_popup").css("display","none");null!==v&&$('#rate_list option[value="'+v+'"]').attr("selected","selected"),null!==k&&"PayPal"===b&&($(".booking-summary #trip_cost").text(parseInt(k).toFixed(2)),$(".fare-box .curr").text("$")),null!==m&&$(".booking-summary .book-ref").text(m),null!==y&&$(".booking-summary .ride_car").text(y),null!==n&&($(".booking-summary .service_type").text(n),"One Way Journey"===n?$(".booking-frm #one_way").prop("checked",!0):$(".booking-frm #two_way").prop("checked",!0)),null!==d&&($(".booking-summary .startup_loc").text(d),$(".booking-frm  #point_start_loc").val(d)),null!==p&&($(".booking-summary .end_loc").text(p),$(".booking-frm #point_end_loc").val(p)),null!==c&&($(".booking-summary .pick_date").text(c),$(".booking-frm #pickup_date").val(c)),null!==u&&($(".booking-summary .pick_time").text(u),$(".booking-frm #pickup_time").val(u)),null!==_&&($(".booking-summary .drop_date").text(_),$(".booking-frm #dropoff_date").val(_)),null!==f&&($(".booking-summary .drop_time").text(f),$(".booking-frm #dropoff_time").val(f)),null!==g&&$(".booking-summary .trip_est").text(g),$('.booking-frm #point_start_loc,.booking-frm input[name="service_type"],.booking-frm #point_end_loc,.booking-frm #pickup_date,.booking-frm #dropoff_date,.booking-frm #pickup_time,.booking-frm #dropoff_time,.booking-frm #car_list').on("keyup keypress blur change",(function(e){var t=$(this).val(),o=$(this).attr("id"),i=$(".booking-frm input[name='service_type']:checked").val();$(".booking-summary .service_type").text(i),t.length>0?"point_start_loc"==o?$(".booking-summary .startup_loc").text(t):"point_end_loc"==o?$(".booking-summary .end_loc").text(t):"pickup_date"==o?$(".booking-summary .pick_date").text(t):"dropoff_date"==o?$(".booking-summary .drop_date").text(t):"pickup_time"==o?$(".booking-summary .pick_time").text(t):"dropoff_time"==o?$(".booking-summary .drop_time").text(t):"car_list"==o&&$(".booking-summary .ride_car").text(t):"point_start_loc"==o?$(".booking-summary .startup_loc").text("Enter Startup Location"):"point_end_loc"==o?$(".booking-summary .end_loc").text("Enter Destination"):"pickup_date"==o?$(".booking-summary .pick_date").text("Enter Pickup Date"):"pickup_time"==o?$(".booking-summary .pick_time").text("Enter Pickup Time"):"dropoff_date"==o?$(".booking-summary .drop_date").text("Enter Dropoff Date"):"dropoff_time"==o?$(".booking-summary .drop_time").text("Enter Dropoff Time"):"car_list"==o&&$(".booking-summary .ride_car").text("Select Ride Car")})),$("#car_list").on("change",(function(){var e=$(this).find(":selected").data("hrrate"),t=$(this).find(":selected").data("dayrate");$("input[type=radio][name=payment_type]:checked").val();void 0===e&&void 0===t?$("#rate_list").empty().append('<option value="default">Select Rate</option>'):$("#rate_list").empty().append('<option value="default">Select Rate</option>').append('<option class="hr_rate" value="'+e+'">$'+e+" hourly rate</option>").append('<option class="day_rate" value="'+t+'">$'+t+" day rate</option>")})),$("#ride-bform").length&&$("#ride-bform").validate({rules:{car_name:{required:!0},pickup_loc:"required",pickup_date:"required",pickup_time:"required",dropoff_loc:"required",dropoff_date:"required",book_terms:"required",dropoff_time:"required"},messages:{pickup_loc:"This field is required",pickup_date:"This field is required",pickup_time:"This field is required",dropoff_loc:"This field is required",dropoff_date:"This field is required",book_terms:"This field is required",dropoff_time:"This field is required"},submitHandler:function(e){var t=$(".booking-frm input[name='service_type']:checked").val(),o=$(".booking-frm #point_start_loc").val(),i=$(".booking-frm #point_end_loc").val(),a=$(".booking-frm #pickup_date").val(),r=$(".booking-frm #pickup_time").val(),s=$(".booking-frm #dropoff_date").val(),n=$(".booking-frm #dropoff_time").val(),l=$(".booking-summary .book-ref").text(),m=$("#rate_list option:selected").val(),d=$("#car_list option:selected").val(),p=$("#rate_list option:selected").attr("class"),c=$("input[type=radio][name=payment_type]:checked").val();sessionStorage.setItem("service_type",t),sessionStorage.setItem("start_loc",o),sessionStorage.setItem("end_loc",i),sessionStorage.setItem("book_ref",l),sessionStorage.setItem("pickup_date",a),sessionStorage.setItem("pickup_time",r),sessionStorage.setItem("dropoff_date",s),sessionStorage.setItem("dropoff_time",n),sessionStorage.setItem("method_type",c),sessionStorage.setItem("trip_rate",m),sessionStorage.setItem("selected_car",d);var u="",_="",f="",g="",k="",b="",v="",y=new Date(a+" "+r).getTime(),h=new Date(s+" "+n).getTime()-y,S=Math.floor(h/6e4),I=Math.floor(S/60),x=Math.floor(I/24);if(S%=60,I%=24,0===x&&0===I&&0===S)return alert("Journey starting and ending time cannot be same. Please check and try again!"),!1;if("PayPal"===c&&"default"===m)return alert("Please select rate based on your trip duration"),!1;if(0===x&&0===I&&S<30)return alert("Ride of less than 30 minutes cannot be booked!"),!1;if(!(x>=0&&I>=0&&S>=0))return alert("Wrong Time or Date Selected. Please check and try again!"),!1;if("PayPal"===c){if(u=x+" days, "+I+" hours, "+S+" minutes",sessionStorage.setItem("trip_time",u),f+='<div class="ride-time">',f+="<span>Trip Duration</span>",f+="<strong>"+u+"</strong>",f+="</div>","hr_rate"===p)I>0&&(_=m*I,g+="<li>"+I+" hour x $"+m+" per hour<span>$"+(m*I).toFixed(2)+"</span></li>"),S>=30&&S<=59?(_+=parseInt(m),g+="<li>"+S+" minutes ( 30 mins to 59 mins rate )<span>$"+parseInt(m).toFixed(2)+"</span></li>"):S>0&&S<=29&&(_+=k=Math.floor(m/2),g+="<li>"+S+" minutes rate ("+m+"/2)<span>$"+k.toFixed(2)+"</span></li>"),x>0&&(v=$("#rate_list .day_rate").val(),_=parseInt(_)+parseInt(v*x),g+="<li>"+x+" day x $"+v+" per day<span>$"+(v*x).toFixed(2)+"</span></li>");else if("day_rate"===p)if(x>0)b=$("#rate_list .hr_rate").val(),_=m*x,g+="<li>"+x+" day x $"+m+" per day<span>$"+(m*x).toFixed(2)+"</span></li>",I>0&&(_+=b*I,g+="<li>"+I+" hour x $"+b+" per hour<span>$"+(b*I).toFixed(2)+"</span></li>"),S>=30&&S<=59?(_=parseInt(_)+parseInt(b),g+="<li>"+S+" minutes ( 30 mins to 59 mins rate )<span>$"+parseInt(b).toFixed(2)+"</span></li>"):S>0&&S<=29&&(console.log("Rate:"+b),_+=k=Math.floor(b/2),g+="<li>"+S+" minutes rate ("+b+"/2)<span>$"+k.toFixed(2)+"</span></li>");else if(0===x)return alert("You have selected day rate. Select atleast 1 day duration for ride booking!"),!1;sessionStorage.setItem("trip_cost",_),f+='<ul class="summary-list">',f+=g,f+="</ul>",f+='<div class="ride-total">',f+="<strong>Total <span>$"+parseInt(_).toFixed(2)+"</span></strong>",f+="</div>",$.cookie("order_summary",f),window.location.href="confirm-booking.php"}else{null!==$.cookie("order_summary",f)&&$.removeCookie("order_summary"),u=x+" days, "+I+" hours, "+S+" minutes",sessionStorage.setItem("trip_time",u),window.location.href="confirm-booking.php"}}}),$("#ride_popup").on("click",(function(){var e=$.cookie("order_summary");$(".order-summary").html(e)})),$("#rider-info").length&&$("#rider-info").validate({rules:{fname:"required",lname:"required",phone_num:"required",email_id:"required"},messages:{fname:"This field is required",lname:"This field is required",phone_num:"This field is required",email_id:"This field is required"},submitHandler:function(e){$.cookie("book_ref",sessionStorage.getItem("book_ref")),$.cookie("start_loc",sessionStorage.getItem("start_loc")),$.cookie("end_loc",sessionStorage.getItem("end_loc")),$.cookie("pickup_date",sessionStorage.getItem("pickup_date")),$.cookie("pickup_time",sessionStorage.getItem("pickup_time")),$.cookie("dropoff_date",sessionStorage.getItem("dropoff_date")),$.cookie("dropoff_time",sessionStorage.getItem("dropoff_time")),$.cookie("service_type",sessionStorage.getItem("service_type")),$.cookie("trip_time",sessionStorage.getItem("trip_time")),$.cookie("trip_cost",sessionStorage.getItem("trip_cost")),$.cookie("selected_car",sessionStorage.getItem("selected_car"));var t=$.cookie("book_ref"),o=$.cookie("start_loc"),i=$.cookie("end_loc"),a=$.cookie("pickup_date"),r=$.cookie("pickup_time"),s=$.cookie("dropoff_date"),n=$.cookie("dropoff_time"),l=$.cookie("service_type"),m=$.cookie("trip_cost"),d=$.cookie("selected_car"),p=sessionStorage.getItem("method_type");if(null!==o&&null!==i&&null!==a&&null!==r&&null!==s&&null!==n&&null!==l&&null!==d)if("Offline"===p)$.ajax({type:"POST",url:"contact/ride-booking.php",data:{formData:$(e).serialize(),book_ref:sessionStorage.getItem("book_ref"),start_loc:sessionStorage.getItem("start_loc"),end_loc:sessionStorage.getItem("end_loc"),pickup_date:sessionStorage.getItem("pickup_date"),pickup_time:sessionStorage.getItem("pickup_time"),dropoff_date:sessionStorage.getItem("dropoff_date"),dropoff_time:sessionStorage.getItem("dropoff_time"),service_type:sessionStorage.getItem("service_type"),trip_time:sessionStorage.getItem("trip_time"),selected_car:sessionStorage.getItem("selected_car")},beforeSend:function(){$("#ride-bbtn").text("Sending..").addClass("wait"),$("#ride-bbtn").attr("disabled","disabled")},success:function(e){1==e?(alert("Thank you for booking. We will get in touch with you soon!"),$("#ride-bbtn").text("Email Sent").addClass("success"),$("#ride-bbtn").removeAttr("disabled"),$("#ride-bbtn").removeClass("wait"),$("#rider-info")[0].reset(),sessionStorage.removeItem("book_ref"),sessionStorage.removeItem("start_loc"),sessionStorage.removeItem("end_loc"),sessionStorage.removeItem("pickup_date"),sessionStorage.removeItem("pickup_time"),sessionStorage.removeItem("dropoff_date"),sessionStorage.removeItem("dropoff_date"),sessionStorage.removeItem("dropoff_time"),sessionStorage.removeItem("service_type"),sessionStorage.removeItem("trip_time"),sessionStorage.removeItem("selected_car"),$(".booking-summary .book-ref").text("Not Available"),$(".booking-summary .service_type").text("Not Available"),$(".booking-summary .startup_loc").text("Not Available"),$(".booking-summary .end_loc").text("Not Available"),$(".booking-summary .pick_date").text("Not Available"),$(".booking-summary .pick_time").text("Not Available"),$(".booking-summary .drop_date").text("Not Available"),$(".booking-summary .drop_time").text("Not Available"),$(".booking-summary .trip_est").text("Not Available"),$(".booking-summary .ride_car").text("Not Available")):(alert("Something went wrong. Please check your entries and try again"),$("#ride-bbtn").text("Email Failed").addClass("fail"),$("#ride-bbtn").removeAttr("disabled"),$("#ride-bbtn").removeClass("wait"))}});else if("PayPal"===p){var c,u;sessionStorage.removeItem("book_ref"),sessionStorage.removeItem("start_loc"),sessionStorage.removeItem("end_loc"),sessionStorage.removeItem("pickup_date"),sessionStorage.removeItem("pickup_time"),sessionStorage.removeItem("dropoff_date"),sessionStorage.removeItem("dropoff_date"),sessionStorage.removeItem("dropoff_time"),sessionStorage.removeItem("service_type"),sessionStorage.removeItem("trip_time"),sessionStorage.removeItem("selected_car");$('#rider-info input[name="email_id"]').val();var _=$('#rider-info input[name="fname"]').val(),f=$('#rider-info input[name="lname"]').val(),k=$('#rider-info input[name="email_id"]').val(),b=$('#rider-info input[name="phone_num"]').val();c=l+" "+o+" "+a+" "+r+" "+i+" "+s+" "+n,u="Ride booked from "+o+" on "+a+" at "+r+" to "+i+", ends at "+s+" on "+n,$('#paypal_frm input[name="business"]').val("sb-l6r7o592684@business.example.com"),$('#paypal_frm input[name="item_name"]').val(c),$('#paypal_frm input[name="item_number"]').val(t),$('#paypal_frm input[name="amount"]').val(m),$('#paypal_frm input[name="custom"]').val(u),$('#paypal_frm input[name="os0"]').val(_+" "+f),$('#paypal_frm input[name="os1"]').val(k),$('#paypal_frm input[name="os2"]').val(b),$('#paypal_frm input[name="os3"]').val(g),$('#paypal_frm input[name="os4"]').val(d),$("#paypal_frm").attr("action","https://www.sandbox.paypal.com/").submit()}return!1}})}));